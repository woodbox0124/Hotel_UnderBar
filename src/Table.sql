DROP TABLE MEMBER
CASCADE CONSTRAINTS;
CREATE TABLE MEMBER(
u_id VARCHAR2(20) PRIMARY KEY NOT NULL,
u_pw VARCHAR2(20) NOT NULL,
u_name VARCHAR2(20) NOT NULL,
u_email1 VARCHAR2(20) NOT NULL,
u_email2 VARCHAR2(20) NOT NULL,
u_phone1 VARCHAR2(20) NOT NULL,
u_phone2 VARCHAR2(20) NOT NULL,
u_phone3 VARCHAR2(20) NOT NULL
);

--호텔, 룸 테이블 생성
CREATE SEQUENCE SEQ_HOTEL
CREATE TABLE HOTEL(

SEQ NUMBER(8) PRIMARY KEY,
NAME VARCHAR2(50) NOT NULL,
PLACE VARCHAR2(20) NOT NULL,
ADDR VARCHAR2(100) NOT NULL,
USE_COUNT NUMBER(8) NOT NULL,
RATING NUMBER(3,2) NOT NULL,
HOTEL_IMG VARCHAR2(200),
HOTEL_IMG_REAL VARCHAR2(200)
);

DROP TABLE ROOM
CASCADE CONSTRAINTS;

DROP SEQUENCE SEQ_ROOM
CREATE SEQUENCE SEQ_ROOM;

CREATE TABLE ROOM(
SEQ NUMBER(8) PRIMARY KEY,
NAME VARCHAR2(100) NOT NULL,
HotelSEQ NUMBER(8) NOT NULL,
PRICE NUMBER(10) NOT NULL,
MAX_GUEST NUMBER(2) NOT NULL,
ROOM_IMG VARCHAR2(200),
ROOM_IMG_REAL VARCHAR2(200)
);

ALTER TABLE ROOM
ADD CONSTRAINT FK_ROOM_SEQ0 FOREIGN KEY(HotelSEQ)
REFERENCES HOTEL(SEQ);

--호텔예약

CREATE TABLE RESV(
SEQ NUMBER(8) PRIMARY KEY,
HotelSEQ NUMBER(8) NOT NULL,
u_id VARCHAR2(20) NOT NULL,
RoomSEQ NUMBER(8) NOT NULL,
CheckIn VARCHAR2(20) NOT NULL,
CheckOut VARCHAR2(20) NOT NULL,
RESVDATE DATE NOT NULL,
PRICE NUMBER(8) NOT NULL,
GUEST NUMBER(2) NOT NULL,
CANCEL NUMBER(1) NOT NULL
);

ALTER TABLE RESV
ADD CONSTRAINT FK_RESV_u_id FOREIGN KEY(u_id)
REFERENCES Member(u_id);

ALTER TABLE RESV
ADD CONSTRAINT FK_RESV_SEQ1 FOREIGN KEY(RoomSEQ)
REFERENCES Room(SEQ);

ALTER TABLE RESV
ADD CONSTRAINT FK_RESV_SEQ2 FOREIGN KEY(HotelSEQ)
REFERENCES HOTEL(SEQ);